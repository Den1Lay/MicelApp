(this["webpackJsonpspa-yandex-api"]=this["webpackJsonpspa-yandex-api"]||[]).push([[0],{39:function(e,t,n){e.exports=n.p+"static/media/LittleFolder.5a4e9e1e.png"},40:function(e,t,n){e.exports=n.p+"static/media/PngFile.de917722.png"},41:function(e,t,n){e.exports=n.p+"static/media/Picture.ea92dad2.png"},42:function(e,t,n){e.exports=n(78)},69:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n(10),l=n(9),i=n(17),s=n(18),u=n(20),p=n(19),m=n(21),f=n(11),d=(n(51),n(14)),h=n(37),v=n.n(h);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){return function(t){var n={},a=[],r=[];!function c(o){a.push("check"),v.a.get(o,{headers:{Authorization:"OAuth ".concat(t),"Content-Type":"application/json"}}).then((function(l){l.data._embedded.items.forEach((function(e){if("file"===e.type){for(var t=e.path.split("/"),a=t.slice(0,t.length-1),l=e.name.substring(0,e.name.indexOf(".")),i=n;a.length>1;)i=i[a[0]]=g({},i[a[0]]),a.shift();i[a[0]]=g({},i[a[0]],Object(d.a)({},l,e))}else if("dir"===e.type){for(var s=e.path.split("/"),u=n;s.length>0;)u=u[s[0]]=g({},u[s[0]]),s.shift();r.push(e.name);var p=e.path.split("/"),m=p[p.length-1];c("".concat(o).concat(m,"%2F"))}console.log("RES",n)})),a.shift(),0===a.length&&e({type:"ADD_DATA",data:n,folders:r,token:t})})).catch((function(t){return"Network Error"===t?e({type:"ERROR_LOAD_DATA",error:t}):null}))}("https://cloud-api.yandex.net:443/v1/disk/resources?path=disk%3A%2F")}},E=(n(69),function(e){var t=e.token;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/disk",className:"btn btn-primary redir"},"/disk"),r.a.createElement("div",null,r.a.createElement("span",{className:"token-label"},"Current token:"),t))}),y=Object(o.b)((function(e){return{token:e.token}}))((function(e){var t=e.token;return r.a.createElement("div",{className:"header"},r.a.createElement(l.b,{to:"/"},r.a.createElement("h2",{className:"main-title"},r.a.createElement("span",{className:"red"},"Y"),"andex RESTful API")),null!==t?r.a.createElement(E,{token:t}):null)})),j=(n(71),Object(f.e)((function(e){var t=e.history,n=e.url,a=e.src,c=e.name;console.log();var o=function(){return r.a.createElement("div",{className:"label"},r.a.createElement("img",{src:a,alt:"\u041f\u043e\u0440\u043e\u0431\u0443\u0439\u0442\u0435 "}),c.length>15?r.a.createElement("span",{title:c},c.substring(0,Math.min(10,c.lastIndexOf(".")))+c.substring(c.lastIndexOf("."))):r.a.createElement("span",null,c))};return void 0!==n?r.a.createElement("a",{onClick:function(){return t.push(n)}},o()):o()}))),k=n(39),A=n.n(k),D=n(40),P=n.n(D),w=n(41),N=n.n(w),x=(n(72),function(e){var t=e.data,n=e.loc;return r.a.createElement("div",{className:"container"},function(){var e=[],a=t;for(var c in a)void 0===a[c].type?e.push(r.a.createElement(j,{key:c,url:"".concat(n.pathname,"/").concat(c),name:c,src:A.a})):"image"===a[c].media_type?(console.log("PIC",a[c]),e.push(r.a.createElement(j,{key:c,url:"".concat(n.pathname,"/").concat(a[c].name),name:a[c].name,src:N.a}))):e.push(r.a.createElement(j,{key:c,name:a[c].name,src:P.a}));return e}())}),R=(n(73),function(e){return console.log("INSAD",e.pass.preview),r.a.createElement("div",{className:"picture"},r.a.createElement("img",{src:"".concat(e.pass.preview),alt:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432 \u044f\u043d\u0434\u0435\u043a\u0441 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435.."}))}),T=(n(74),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-pacman"},r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",null)))),r.a.createElement("div",{className:"load"},"Loading..."))}),S=(n(75),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={value:"AgAAAAAjMRpNAADLWzTYVY9n9EcygVbADLb0EfE"},n.submitHandler=function(e){e.preventDefault(),n.props.getData(n.state.value),n.props.loadData()},n.changeHandler=function(e){e.persist(),console.log(e.target.value),n.setState({value:e.target.value})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return null!==this.props.token&&this.props.history.push("/disk"),console.log("PROOPS",this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"main-form",onSubmit:this.submitHandler},r.a.createElement("label",{className:"main-label",for:"main-input"},"Token: "),r.a.createElement("input",{type:"text",value:this.state.value,className:"form-control main-input",id:"main-input",placeholder:"Token",onChange:this.changeHandler}),r.a.createElement("button",{className:"btn btn-outline-primary",type:"submit"},"$UBMIT")),this.props.loading?r.a.createElement(T,null):null)}}]),t}(r.a.Component)),_=Object(f.e)(Object(o.b)((function(e){return{token:e.token,loading:e.loading}}),(function(e){return{getData:function(t){return O(e)(t)},loadData:function(){return e({type:"LOAD_DATA"})}}}))(S)),L=(n(76),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getRoutes=function(){var e=[],t=n.props.data;if(0===Object.keys(t).length)return[];var a=[];return function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var c in a.push("123"),n)if(void 0===n[c].type){var o="".concat(r,"/").concat(c).replace(/:/g,"");e.push({path:"".concat(o),data:n[c]}),t(n[c],o)}a.shift()}(t),0==a?e:void 0},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(f.a,{exact:!0,path:"/",component:_}),this.getRoutes().map((function(e,t){var n=e.path,a=e.data;return r.a.createElement(f.a,{key:n,exact:!0,path:n,render:function(e){e.match;var t=e.location;e.history;return r.a.createElement(x,{data:a,loc:t})}})})),this.getRoutes().map((function(t,n){var a=t.path,c=t.data;return r.a.createElement(f.a,{key:a,exact:!0,path:"".concat(a,"/:id"),render:function(t){var n=t.match,a=(t.location,t.history,n.params.id),o=c[a.slice(0,a.indexOf("."))];if(-1===e.props.folders.indexOf(a))return r.a.createElement(R,{pass:o})}})})))}}]),t}(a.Component)),C=Object(o.b)((function(e){return{data:e.data,path:e.path,folders:e.folders,loading:e.loading}}),(function(e){return{getData:function(t){return O(e)(t)}}}))(L),F=n(13);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={data:{},token:null,folders:[],loading:!1,error:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DATA":return H({},e,{data:t.data,folders:t.folders,loading:!1,token:t.token});case"LOAD_DATA":return H({},e,{loading:!0});case"ERROR_LOAD_DATA":return H({},e,{error:t.error});default:return e}},z=Object(F.c)(Y,Object(F.a)((function(){return function(e){return function(t){return console.log(t),e(t)}}})));n(77);Object(c.render)(r.a.createElement(o.a,{store:z},r.a.createElement(l.a,null,r.a.createElement(C,null))),document.querySelector("#app"))}},[[42,1,2]]]);
//# sourceMappingURL=main.6f059286.chunk.js.map